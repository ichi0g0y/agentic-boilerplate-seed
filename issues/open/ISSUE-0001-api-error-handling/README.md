# ISSUE-0001 API エラーハンドリング統一

- 状態: Open
- 優先度: 中
- 担当: 未定
- 期限: 未定

## 概要

APIのエラー応答形式を統一し、クライアント側の例外処理を単純化する。

## 背景

現状はエンドポイントごとにエラー形式が異なり、利用側の分岐が増えている。

## 目的

すべてのAPIで同一のエラーレスポンス構造を返す状態にする。

## 実施手順

1. `main` からIssue専用worktreeを作成する
2. 共通エラー型と生成処理を実装する
3. 対象APIへ段階適用し、単体テストを更新する
4. 差分レビュー後に小さなPRとして適用する

## スコープ

- エラーレスポンス生成処理の共通化
- 主要エンドポイントへの適用
- テスト更新

## 非スコープ

- APIの正常系レスポンス変更
- 監視基盤の再設計

## 受け入れ条件

1. 対象APIが共通エラー形式で応答する
2. エラーケースのテストが通過する
3. 既存クライアントで破壊的変更がない

## タスク分解

- [ ] 共通エラー型の定義
- [ ] エラーレスポンス生成処理の共通化
- [ ] 対象APIへの適用
- [ ] テスト更新

## レビュー観点

- 既存APIとの互換性を壊していないか
- エラーコードとメッセージの整合性が保たれているか

## TODO ID連携

- `k9x2m1`: エラー応答を共通フォーマットへ統一する

## 関連ファイル

- `src/api/errors.ts`
- `src/api/handlers/`

## 関連ドキュメント

- `docs/guides/CODING_STANDARDS.md`

## メモ

なし
